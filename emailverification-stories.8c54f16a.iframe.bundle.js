/*! For license information please see emailverification-stories.8c54f16a.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunksupertokens_auth_react=self.webpackChunksupertokens_auth_react||[]).push([[264],{"./stories/emailverification.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LinkCliked:function(){return LinkCliked},SentEmail:function(){return SentEmail},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return emailverification_stories}});var errorBoundary=__webpack_require__("./stories/errorBoundary.tsx"),routingComponent=__webpack_require__("./lib/ts/components/routingComponent.tsx"),utils=(__webpack_require__("./node_modules/supertokens-web-js/recipe/emailverification/index.js"),__webpack_require__("./lib/ts/utils.ts"));function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var _createGenericCompone2=function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,__webpack_require__("./lib/ts/components/componentOverride/genericComponentOverrideContext.tsx").l)(),2),useContext=_createGenericCompone2[0],Provider=_createGenericCompone2[1];try{Provider.displayName="Provider",Provider.__docgenInfo={description:"",displayName:"Provider",props:{components:{defaultValue:null,description:"",name:"components",required:!0,type:{name:"ComponentOverrideMap"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib/ts/recipe/emailverification/componentOverrideContext.tsx#Provider"]={docgenInfo:Provider.__docgenInfo,name:"Provider",path:"lib/ts/recipe/emailverification/componentOverrideContext.tsx#Provider"})}catch(__react_docgen_typescript_loader_error){}var recipe=__webpack_require__("./lib/ts/recipe/emailverification/recipe.tsx");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}var Wrapper=function(){function Wrapper(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Wrapper)}var _sendVerificationEmail,_verifyEmail,_isEmailVerified;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Wrapper,null,[{key:"init",value:function init(config){return recipe.Z.init(config)}},{key:"isEmailVerified",value:(_isEmailVerified=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(input){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",recipe.Z.getInstanceOrThrow().webJSRecipe.isEmailVerified(_objectSpread(_objectSpread({},input),{},{userContext:(0,utils.IZ)(null==input?void 0:input.userContext)})));case 1:case"end":return _context.stop()}}),_callee)}))),function isEmailVerified(_x){return _isEmailVerified.apply(this,arguments)})},{key:"verifyEmail",value:(_verifyEmail=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(input){return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",recipe.Z.getInstanceOrThrow().webJSRecipe.verifyEmail(_objectSpread(_objectSpread({},input),{},{userContext:(0,utils.IZ)(null==input?void 0:input.userContext)})));case 1:case"end":return _context2.stop()}}),_callee2)}))),function verifyEmail(_x2){return _verifyEmail.apply(this,arguments)})},{key:"sendVerificationEmail",value:(_sendVerificationEmail=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(input){return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",recipe.Z.getInstanceOrThrow().webJSRecipe.sendVerificationEmail(_objectSpread(_objectSpread({},input),{},{userContext:(0,utils.IZ)(null==input?void 0:input.userContext)})));case 1:case"end":return _context3.stop()}}),_callee3)}))),function sendVerificationEmail(_x3){return _sendVerificationEmail.apply(this,arguments)})},{key:"getEmailVerificationTokenFromURL",value:function getEmailVerificationTokenFromURL(input){return recipe.Z.getInstanceOrThrow().webJSRecipe.getEmailVerificationTokenFromURL(_objectSpread(_objectSpread({},input),{},{userContext:(0,utils.IZ)(null==input?void 0:input.userContext)}))}}]),Wrapper}();_defineProperty(Wrapper,"EmailVerificationClaim",recipe.Z.EmailVerificationClaim),_defineProperty(Wrapper,"ComponentsOverrideProvider",Provider);Wrapper.init,Wrapper.isEmailVerified,Wrapper.verifyEmail,Wrapper.sendVerificationEmail,Wrapper.getEmailVerificationTokenFromURL,Wrapper.ComponentsOverrideProvider,recipe.Z.EmailVerificationClaim;var normalisedURLPath=__webpack_require__("./node_modules/supertokens-web-js/utils/normalisedURLPath.js"),normalisedURLPath_default=__webpack_require__.n(normalisedURLPath),usercontext=__webpack_require__("./lib/ts/usercontext/index.tsx"),userContextWrapper=__webpack_require__("./lib/ts/usercontext/userContextWrapper.tsx"),recipeRouter=__webpack_require__("./lib/ts/recipe/recipeRouter/index.tsx"),session=__webpack_require__("./lib/ts/recipe/session/index.ts"),react=__webpack_require__("./node_modules/react/index.js"),ts=__webpack_require__("./lib/ts/index.ts"),componentOverrideContext=__webpack_require__("./lib/ts/components/componentOverride/componentOverrideContext.tsx"),featureWrapper=__webpack_require__("./lib/ts/components/featureWrapper.tsx"),session_recipe=__webpack_require__("./lib/ts/recipe/session/recipe.tsx"),styles=__webpack_require__("./lib/ts/styles/styles.ts"),themeBase=__webpack_require__("./lib/ts/recipe/emailpassword/components/themes/themeBase.tsx"),error=__webpack_require__("./node_modules/supertokens-web-js/utils/error.js"),error_default=__webpack_require__.n(error),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function ArrowRightIcon(_ref){var color=_ref.color;return(0,jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11.272",height:"9.49",viewBox:"0 0 11.272 9.49","data-supertokens":"arrowRightIcon",children:(0,jsx_runtime.jsx)("path",{fill:color,stroke:"#fff",strokeWidth:"0.75px",d:"M9.931 3.545h.016-7.041L5.12 1.33a.581.581 0 0 0 0-.817L4.775.168a.576.576 0 0 0-.813 0L.168 3.962a.58.58 0 0 0 0 .816l3.794 3.794a.577.577 0 0 0 .813 0l.344-.345a.57.57 0 0 0 .168-.407.553.553 0 0 0-.168-.4L2.881 5.191h7.058a.6.6 0 0 0 .584-.59v-.487a.585.585 0 0 0-.592-.569z",transform:"rotate(180 5.449 4.558)"})})}ArrowRightIcon.displayName="ArrowRightIcon";try{arrowRightIcon.displayName="arrowRightIcon",arrowRightIcon.__docgenInfo={description:"",displayName:"arrowRightIcon",props:{color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib/ts/components/assets/arrowRightIcon.tsx#arrowRightIcon"]={docgenInfo:arrowRightIcon.__docgenInfo,name:"arrowRightIcon",path:"lib/ts/components/assets/arrowRightIcon.tsx#arrowRightIcon"})}catch(__react_docgen_typescript_loader_error){}var emailLargeIcon=__webpack_require__("./lib/ts/components/assets/emailLargeIcon.tsx"),withOverride=__webpack_require__("./lib/ts/components/componentOverride/withOverride.tsx"),translationContext=__webpack_require__("./lib/ts/translation/translationContext.tsx"),generalError=__webpack_require__("./lib/ts/recipe/emailpassword/components/library/generalError.tsx");function sendVerifyEmail_typeof(o){return sendVerifyEmail_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},sendVerifyEmail_typeof(o)}function sendVerifyEmail_regeneratorRuntime(){sendVerifyEmail_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==sendVerifyEmail_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(sendVerifyEmail_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function sendVerifyEmail_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function sendVerifyEmail_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){sendVerifyEmail_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){sendVerifyEmail_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function sendVerifyEmail_slicedToArray(arr,i){return function sendVerifyEmail_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function sendVerifyEmail_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function sendVerifyEmail_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return sendVerifyEmail_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sendVerifyEmail_arrayLikeToArray(o,minLen)}(arr,i)||function sendVerifyEmail_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sendVerifyEmail_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var EmailVerificationSendVerifyEmail=function EmailVerificationSendVerifyEmail(props){var t=(0,translationContext.$G)(),userContext=(0,usercontext.SE)(),_useState2=sendVerifyEmail_slicedToArray((0,react.useState)("READY"),2),status=_useState2[0],setStatus=_useState2[1],_useState4=sendVerifyEmail_slicedToArray((0,react.useState)(void 0),2),errorMessage=_useState4[0],setErrorMessage=_useState4[1],resendEmail=function(){var _ref=sendVerifyEmail_asyncToGenerator(sendVerifyEmail_regeneratorRuntime().mark((function _callee(){var response;return sendVerifyEmail_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,props.recipeImplementation.sendVerificationEmail({userContext:userContext});case 3:if("EMAIL_ALREADY_VERIFIED_ERROR"!==(response=_context.sent).status){_context.next=9;break}return _context.next=7,props.onEmailAlreadyVerified();case 7:_context.next=10;break;case 9:"OK"===response.status&&setStatus("EMAIL_RESENT");case 10:_context.next=17;break;case 12:return _context.prev=12,_context.t0=_context.catch(0),error_default().isThisError(_context.t0)&&setErrorMessage(_context.t0.message),setStatus("ERROR"),_context.abrupt("return",handleSendError());case 17:case"end":return _context.stop()}}),_callee,null,[[0,12]])})));return function resendEmail(){return _ref.apply(this,arguments)}}(),logout=function(){var _ref2=sendVerifyEmail_asyncToGenerator(sendVerifyEmail_regeneratorRuntime().mark((function _callee2(){return sendVerifyEmail_regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,props.signOut();case 3:_context2.next=9;break;case 5:_context2.prev=5,_context2.t0=_context2.catch(0),error_default().isThisError(_context2.t0)&&setErrorMessage(_context2.t0.message),setStatus("ERROR");case 9:case"end":return _context2.stop()}}),_callee2,null,[[0,5]])})));return function logout(){return _ref2.apply(this,arguments)}}(),sendVerificationEmail=(0,react.useCallback)((function(){return props.recipeImplementation.sendVerificationEmail({userContext:userContext})}),[props.config,props.recipeImplementation]),checkSendResponse=(0,react.useCallback)(function(){var _ref3=sendVerifyEmail_asyncToGenerator(sendVerifyEmail_regeneratorRuntime().mark((function _callee3(response){return sendVerifyEmail_regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if("EMAIL_ALREADY_VERIFIED_ERROR"!==response.status){_context3.next=3;break}return _context3.next=3,props.onEmailAlreadyVerified();case 3:case"end":return _context3.stop()}}),_callee3)})));return function(_x){return _ref3.apply(this,arguments)}}(),[props.config,props.recipeImplementation,props.onEmailAlreadyVerified]),handleSendError=(0,react.useCallback)(sendVerifyEmail_asyncToGenerator(sendVerifyEmail_regeneratorRuntime().mark((function _callee4(){return sendVerifyEmail_regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,session_recipe.Z.getInstanceOrThrow().doesSessionExist({userContext:userContext});case 2:if(_context4.t0=_context4.sent,!0===_context4.t0){_context4.next=6;break}return _context4.next=6,props.redirectToAuth();case 6:case"end":return _context4.stop()}}),_callee4)}))),[]);return(0,utils.WD)(sendVerificationEmail,checkSendResponse,handleSendError),(0,jsx_runtime.jsx)("div",{"data-supertokens":"container",children:(0,jsx_runtime.jsxs)("div",{"data-supertokens":"row",children:["ERROR"===status&&(0,jsx_runtime.jsx)(generalError.Z,{error:void 0===errorMessage?"SOMETHING_WENT_WRONG_ERROR":errorMessage}),"EMAIL_RESENT"===status&&(0,jsx_runtime.jsx)("div",{"data-supertokens":"generalSuccess",children:t("EMAIL_VERIFICATION_RESEND_SUCCESS")}),(0,jsx_runtime.jsx)("div",{"data-supertokens":"sendVerifyEmailIcon",children:(0,jsx_runtime.jsx)(emailLargeIcon.Z,{})}),(0,jsx_runtime.jsx)("div",{"data-supertokens":"headerTitle headerTinyTitle",children:t("EMAIL_VERIFICATION_SEND_TITLE")}),(0,jsx_runtime.jsxs)("div",{"data-supertokens":"primaryText sendVerifyEmailText",children:[t("EMAIL_VERIFICATION_SEND_DESC_START"),(0,jsx_runtime.jsx)("strong",{children:t("EMAIL_VERIFICATION_SEND_DESC_STRONG")}),t("EMAIL_VERIFICATION_SEND_DESC_END")]}),"EMAIL_RESENT"!==status&&(0,jsx_runtime.jsx)("div",{"data-supertokens":"link sendVerifyEmailResend",onClick:resendEmail,children:t("EMAIL_VERIFICATION_RESEND_BTN")}),(0,jsx_runtime.jsxs)("div",{"data-supertokens":"secondaryText secondaryLinkWithArrow",onClick:logout,children:[t("EMAIL_VERIFICATION_LOGOUT"),(0,jsx_runtime.jsx)(ArrowRightIcon,{color:"rgb(var(--palette-textPrimary))"})]})]})})};EmailVerificationSendVerifyEmail.displayName="EmailVerificationSendVerifyEmail";var SendVerifyEmail=(0,withOverride.u)("EmailVerificationSendVerifyEmail",EmailVerificationSendVerifyEmail);try{EmailVerificationSendVerifyEmail.displayName="EmailVerificationSendVerifyEmail",EmailVerificationSendVerifyEmail.__docgenInfo={description:"",displayName:"EmailVerificationSendVerifyEmail",props:{styleFromInit:{defaultValue:null,description:"",name:"styleFromInit",required:!1,type:{name:"string"}},recipeImplementation:{defaultValue:null,description:"",name:"recipeImplementation",required:!0,type:{name:"RecipeInterface"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"NormalisedConfig"}},signOut:{defaultValue:null,description:"",name:"signOut",required:!0,type:{name:"() => Promise<void>"}},onEmailAlreadyVerified:{defaultValue:null,description:"",name:"onEmailAlreadyVerified",required:!0,type:{name:"() => Promise<void>"}},redirectToAuth:{defaultValue:null,description:"",name:"redirectToAuth",required:!0,type:{name:"() => Promise<void>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib/ts/recipe/emailverification/components/themes/emailVerification/sendVerifyEmail.tsx#EmailVerificationSendVerifyEmail"]={docgenInfo:EmailVerificationSendVerifyEmail.__docgenInfo,name:"EmailVerificationSendVerifyEmail",path:"lib/ts/recipe/emailverification/components/themes/emailVerification/sendVerifyEmail.tsx#EmailVerificationSendVerifyEmail"})}catch(__react_docgen_typescript_loader_error){}var checkedRoundIcon=__webpack_require__("./lib/ts/components/assets/checkedRoundIcon.tsx");function ErrorLargeIcon(){return(0,jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"33",height:"30",viewBox:"0 0 33 30","data-supertokens":"errorLargeIcon",children:(0,jsx_runtime.jsxs)("g",{children:[(0,jsx_runtime.jsx)("g",{fill:"rgb(var(--palette-error))",children:(0,jsx_runtime.jsx)("path",{d:"M29.617 29.75H3.383c-.626 0-1.189-.321-1.507-.86-.318-.537-.328-1.186-.027-1.733l13.118-23.85c.312-.568.885-.907 1.533-.907.648 0 1.221.339 1.533.907l13.118 23.85c.301.547.291 1.196-.027 1.734s-.881.859-1.507.859z",transform:"translate(-824.894 -352.483) translate(824.894 352.483)"})}),(0,jsx_runtime.jsx)("text",{fill:"#fff","font-family":"Rubik-Bold, Rubik","font-size":"18px",fontWeight:"700",transform:"translate(-824.894 -352.483) translate(838.997 377.437)",children:(0,jsx_runtime.jsx)("tspan",{x:"0",y:"0",children:"!"})})]})})}ErrorLargeIcon.displayName="ErrorLargeIcon";var spinnerIcon=__webpack_require__("./lib/ts/components/assets/spinnerIcon.tsx"),library=__webpack_require__("./lib/ts/recipe/emailpassword/components/library/index.ts"),useSessionContext=__webpack_require__("./lib/ts/recipe/session/useSessionContext.ts");function verifyEmailLinkClicked_typeof(o){return verifyEmailLinkClicked_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},verifyEmailLinkClicked_typeof(o)}function verifyEmailLinkClicked_regeneratorRuntime(){verifyEmailLinkClicked_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==verifyEmailLinkClicked_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(verifyEmailLinkClicked_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function verifyEmailLinkClicked_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function verifyEmailLinkClicked_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){verifyEmailLinkClicked_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){verifyEmailLinkClicked_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function verifyEmailLinkClicked_slicedToArray(arr,i){return function verifyEmailLinkClicked_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function verifyEmailLinkClicked_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function verifyEmailLinkClicked_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return verifyEmailLinkClicked_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return verifyEmailLinkClicked_arrayLikeToArray(o,minLen)}(arr,i)||function verifyEmailLinkClicked_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function verifyEmailLinkClicked_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var EmailVerificationVerifyEmailLinkClicked=function EmailVerificationVerifyEmailLinkClicked(props){var t=(0,translationContext.$G)(),sessionContext=(0,useSessionContext.Z)(),userContext=(0,usercontext.SE)(),_useState2=verifyEmailLinkClicked_slicedToArray((0,react.useState)("LOADING"),2),status=_useState2[0],setStatus=_useState2[1],_useState4=verifyEmailLinkClicked_slicedToArray((0,react.useState)(void 0),2),errorMessage=_useState4[0],setErrorMessage=_useState4[1],_useState6=verifyEmailLinkClicked_slicedToArray((0,react.useState)(!1),2),verifyLoading=_useState6[0],setVerifyLoading=_useState6[1],verifyEmailOnMount=(0,react.useCallback)(verifyEmailLinkClicked_asyncToGenerator(verifyEmailLinkClicked_regeneratorRuntime().mark((function _callee(){return verifyEmailLinkClicked_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!0!==sessionContext.loading){_context.next=2;break}throw new Error("Should never come here");case 2:if(sessionContext.doesSessionExist){_context.next=4;break}return _context.abrupt("return","INTERACTION_REQUIRED");case 4:return _context.abrupt("return",props.recipeImplementation.verifyEmail({userContext:userContext}));case 5:case"end":return _context.stop()}}),_callee)}))),[props.recipeImplementation,sessionContext]),handleVerifyResp=(0,react.useCallback)(function(){var _ref2=verifyEmailLinkClicked_asyncToGenerator(verifyEmailLinkClicked_regeneratorRuntime().mark((function _callee2(response){return verifyEmailLinkClicked_regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:"INTERACTION_REQUIRED"===response?setStatus("INTERACTION_REQUIRED"):"EMAIL_VERIFICATION_INVALID_TOKEN_ERROR"===response.status?setStatus("INVALID"):setStatus("SUCCESSFUL");case 1:case"end":return _context2.stop()}}),_callee2)})));return function(_x){return _ref2.apply(this,arguments)}}(),[setStatus]),handleError=(0,react.useCallback)((function(err){error_default().isThisError(err)&&setErrorMessage(err.message),setStatus("GENERAL_ERROR")}),[setStatus,setErrorMessage]);(0,utils.WD)(verifyEmailOnMount,handleVerifyResp,handleError,!1===sessionContext.loading);var onTokenInvalidRedirect=props.onTokenInvalidRedirect,onSuccess=props.onSuccess;return"LOADING"===status?(0,jsx_runtime.jsx)("div",{"data-supertokens":"container",children:(0,jsx_runtime.jsx)("div",{"data-supertokens":"row",children:(0,jsx_runtime.jsx)("div",{"data-supertokens":"spinner",children:(0,jsx_runtime.jsx)(spinnerIcon.Z,{})})})}):"INTERACTION_REQUIRED"===status?(0,jsx_runtime.jsx)("div",{"data-supertokens":"container",children:(0,jsx_runtime.jsxs)("div",{"data-supertokens":"row noFormRow",children:[(0,jsx_runtime.jsx)("div",{"data-supertokens":"headerTitle",children:t("EMAIL_VERIFICATION_LINK_CLICKED_HEADER")}),(0,jsx_runtime.jsx)("div",{"data-supertokens":"headerSubtitle secondaryText",children:t("EMAIL_VERIFICATION_LINK_CLICKED_DESC")}),(0,jsx_runtime.jsx)(library.zx,{isLoading:verifyLoading,onClick:verifyEmailLinkClicked_asyncToGenerator(verifyEmailLinkClicked_regeneratorRuntime().mark((function _callee3(){var resp;return verifyEmailLinkClicked_regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return setVerifyLoading(!0),_context3.prev=1,_context3.next=4,props.recipeImplementation.verifyEmail({userContext:userContext});case 4:return resp=_context3.sent,_context3.next=7,handleVerifyResp(resp);case 7:_context3.next=12;break;case 9:_context3.prev=9,_context3.t0=_context3.catch(1),handleError(_context3.t0);case 12:case"end":return _context3.stop()}}),_callee3,null,[[1,9]])}))),type:"button",label:"EMAIL_VERIFICATION_LINK_CLICKED_CONTINUE_BUTTON"})]})}):"SUCCESSFUL"===status?(0,jsx_runtime.jsx)("div",{"data-supertokens":"container",children:(0,jsx_runtime.jsxs)("div",{"data-supertokens":"row noFormRow",children:[(0,jsx_runtime.jsx)(checkedRoundIcon.Z,{}),(0,jsx_runtime.jsx)("div",{"data-supertokens":"headerTitle headerTinyTitle",children:t("EMAIL_VERIFICATION_SUCCESS")}),(0,jsx_runtime.jsx)("div",{"data-supertokens":"emailVerificationButtonWrapper",children:(0,jsx_runtime.jsx)(library.zx,{isLoading:!1,onClick:onSuccess,type:"button",label:"EMAIL_VERIFICATION_CONTINUE_BTN"})})]})}):"INVALID"===status?(0,jsx_runtime.jsx)("div",{"data-supertokens":"container",children:(0,jsx_runtime.jsxs)("div",{"data-supertokens":"row noFormRow",children:[(0,jsx_runtime.jsx)("div",{"data-supertokens":"headerTitle headerTinyTitle",children:t("EMAIL_VERIFICATION_EXPIRED")}),(0,jsx_runtime.jsxs)("div",{onClick:onTokenInvalidRedirect,"data-supertokens":"secondaryText secondaryLinkWithArrow",children:[t("EMAIL_VERIFICATION_CONTINUE_LINK"),(0,jsx_runtime.jsx)(ArrowRightIcon,{color:"rgb(var(--palette-textPrimary))"})]})]})}):(0,jsx_runtime.jsx)("div",{"data-supertokens":"container",children:(0,jsx_runtime.jsxs)("div",{"data-supertokens":"row noFormRow",children:[(0,jsx_runtime.jsxs)("div",{"data-supertokens":"headerTitle error",children:[(0,jsx_runtime.jsx)(ErrorLargeIcon,{}),t("EMAIL_VERIFICATION_ERROR_TITLE")]}),(0,jsx_runtime.jsx)("div",{"data-supertokens":"primaryText",children:t(void 0===errorMessage?"EMAIL_VERIFICATION_ERROR_DESC":errorMessage)})]})})};EmailVerificationVerifyEmailLinkClicked.displayName="EmailVerificationVerifyEmailLinkClicked";var VerifyEmailLinkClicked=(0,withOverride.u)("EmailVerificationVerifyEmailLinkClicked",EmailVerificationVerifyEmailLinkClicked);try{EmailVerificationVerifyEmailLinkClicked.displayName="EmailVerificationVerifyEmailLinkClicked",EmailVerificationVerifyEmailLinkClicked.__docgenInfo={description:"",displayName:"EmailVerificationVerifyEmailLinkClicked",props:{styleFromInit:{defaultValue:null,description:"",name:"styleFromInit",required:!1,type:{name:"string"}},recipeImplementation:{defaultValue:null,description:"",name:"recipeImplementation",required:!0,type:{name:"RecipeInterface"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"NormalisedConfig"}},onSuccess:{defaultValue:null,description:"",name:"onSuccess",required:!0,type:{name:"() => Promise<void>"}},onTokenInvalidRedirect:{defaultValue:null,description:"",name:"onTokenInvalidRedirect",required:!0,type:{name:"() => Promise<void>"}},token:{defaultValue:null,description:"",name:"token",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib/ts/recipe/emailverification/components/themes/emailVerification/verifyEmailLinkClicked.tsx#EmailVerificationVerifyEmailLinkClicked"]={docgenInfo:EmailVerificationVerifyEmailLinkClicked.__docgenInfo,name:"EmailVerificationVerifyEmailLinkClicked",path:"lib/ts/recipe/emailverification/components/themes/emailVerification/verifyEmailLinkClicked.tsx#EmailVerificationVerifyEmailLinkClicked"})}catch(__react_docgen_typescript_loader_error){}function emailVerification_typeof(o){return emailVerification_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},emailVerification_typeof(o)}function emailVerification_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function emailVerification_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?emailVerification_ownKeys(Object(t),!0).forEach((function(r){emailVerification_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):emailVerification_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function emailVerification_defineProperty(obj,key,value){return(key=function emailVerification_toPropertyKey(arg){var key=function emailVerification_toPrimitive(input,hint){if("object"!==emailVerification_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==emailVerification_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===emailVerification_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function emailVerification_EmailVerificationTheme(props){var sessionContext=(0,session.Tt)();return void 0!==props.verifyEmailLinkClickedScreen?(0,jsx_runtime.jsx)(VerifyEmailLinkClicked,emailVerification_objectSpread({},props.verifyEmailLinkClickedScreen)):!1===sessionContext.loading&&!0===sessionContext.doesSessionExist?(0,jsx_runtime.jsx)(SendVerifyEmail,emailVerification_objectSpread({},props.sendVerifyEmailScreen)):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}function EmailVerificationThemeWrapper(props){var hasFont=(0,styles.L)(props.config.rootStyle);return(0,jsx_runtime.jsx)(userContextWrapper.Z,{userContext:props.userContext,children:(0,jsx_runtime.jsx)(themeBase.t,{loadDefaultFont:!hasFont,userStyles:[props.config.rootStyle,void 0===props.verifyEmailLinkClickedScreen?props.config.sendVerifyEmailScreen.style:props.config.verifyEmailLinkClickedScreen.style],children:(0,jsx_runtime.jsx)(emailVerification_EmailVerificationTheme,emailVerification_objectSpread({},props))})})}EmailVerificationThemeWrapper.displayName="EmailVerificationThemeWrapper";var themes_emailVerification=EmailVerificationThemeWrapper;try{emailVerification_EmailVerificationTheme.displayName="EmailVerificationTheme",emailVerification_EmailVerificationTheme.__docgenInfo={description:"",displayName:"EmailVerificationTheme",props:{sendVerifyEmailScreen:{defaultValue:null,description:"",name:"sendVerifyEmailScreen",required:!0,type:{name:"SendVerifyEmailThemeProps"}},verifyEmailLinkClickedScreen:{defaultValue:null,description:"",name:"verifyEmailLinkClickedScreen",required:!1,type:{name:"VerifyEmailLinkClickedThemeProps"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"NormalisedConfig"}},userContext:{defaultValue:null,description:"",name:"userContext",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib/ts/recipe/emailverification/components/themes/emailVerification/index.tsx#EmailVerificationTheme"]={docgenInfo:emailVerification_EmailVerificationTheme.__docgenInfo,name:"EmailVerificationTheme",path:"lib/ts/recipe/emailverification/components/themes/emailVerification/index.tsx#EmailVerificationTheme"})}catch(__react_docgen_typescript_loader_error){}try{EmailVerificationThemeWrapper.displayName="EmailVerificationThemeWrapper",EmailVerificationThemeWrapper.__docgenInfo={description:"",displayName:"EmailVerificationThemeWrapper",props:{sendVerifyEmailScreen:{defaultValue:null,description:"",name:"sendVerifyEmailScreen",required:!0,type:{name:"SendVerifyEmailThemeProps"}},verifyEmailLinkClickedScreen:{defaultValue:null,description:"",name:"verifyEmailLinkClickedScreen",required:!1,type:{name:"VerifyEmailLinkClickedThemeProps"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"NormalisedConfig"}},userContext:{defaultValue:null,description:"",name:"userContext",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib/ts/recipe/emailverification/components/themes/emailVerification/index.tsx#EmailVerificationThemeWrapper"]={docgenInfo:EmailVerificationThemeWrapper.__docgenInfo,name:"EmailVerificationThemeWrapper",path:"lib/ts/recipe/emailverification/components/themes/emailVerification/index.tsx#EmailVerificationThemeWrapper"})}catch(__react_docgen_typescript_loader_error){}var translations=__webpack_require__("./lib/ts/recipe/emailverification/components/themes/translations.ts");function features_emailVerification_typeof(o){return features_emailVerification_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},features_emailVerification_typeof(o)}function features_emailVerification_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function features_emailVerification_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?features_emailVerification_ownKeys(Object(t),!0).forEach((function(r){features_emailVerification_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):features_emailVerification_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function features_emailVerification_defineProperty(obj,key,value){return(key=function features_emailVerification_toPropertyKey(arg){var key=function features_emailVerification_toPrimitive(input,hint){if("object"!==features_emailVerification_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==features_emailVerification_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===features_emailVerification_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function emailVerification_regeneratorRuntime(){emailVerification_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==features_emailVerification_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(features_emailVerification_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function emailVerification_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function emailVerification_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){emailVerification_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){emailVerification_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function emailVerification_slicedToArray(arr,i){return function emailVerification_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function emailVerification_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function emailVerification_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return emailVerification_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return emailVerification_arrayLikeToArray(o,minLen)}(arr,i)||function emailVerification_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function emailVerification_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var EmailVerification=function EmailVerification(props){var _getQueryParams2,sessionContext=(0,react.useContext)(session.B3),_useState2=emailVerification_slicedToArray((0,react.useState)("LOADING"),2),status=_useState2[0],setStatus=_useState2[1],userContext=(0,usercontext.SE)(),rethrowInRender=(0,utils.Vd)(),recipeComponentOverrides=props.useComponentOverrides(),redirectToAuthWithHistory=(0,react.useCallback)(emailVerification_asyncToGenerator(emailVerification_regeneratorRuntime().mark((function _callee(){return emailVerification_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,(0,ts.Mw)({redirectBack:!1,history:props.history});case 2:case"end":return _context.stop()}}),_callee)}))),[props.history]),modifiedRecipeImplementation=(0,react.useMemo)((function(){return features_emailVerification_objectSpread(features_emailVerification_objectSpread({},props.recipe.webJSRecipe),{},{sendVerificationEmail:(_sendVerificationEmail=emailVerification_asyncToGenerator(emailVerification_regeneratorRuntime().mark((function _callee2(input){var response;return emailVerification_regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,props.recipe.webJSRecipe.sendVerificationEmail(input);case 2:return response=_context2.sent,(0,utils.Ie)(["token"]),_context2.abrupt("return",response);case 5:case"end":return _context2.stop()}}),_callee2)}))),function sendVerificationEmail(_x){return _sendVerificationEmail.apply(this,arguments)})});var _sendVerificationEmail}),[props.recipe]),onSuccess=(0,react.useCallback)(emailVerification_asyncToGenerator(emailVerification_regeneratorRuntime().mark((function _callee3(){return emailVerification_regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",session_recipe.Z.getInstanceOrThrow().validateGlobalClaimsAndHandleSuccessRedirection(void 0,userContext,props.history).catch(rethrowInRender));case 1:case"end":return _context3.stop()}}),_callee3)}))),[props.recipe,props.history,userContext]),fetchIsEmailVerified=(0,react.useCallback)(emailVerification_asyncToGenerator(emailVerification_regeneratorRuntime().mark((function _callee4(){var _getQueryParams;return emailVerification_regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(!0!==sessionContext.loading){_context4.next=2;break}throw new Error("Should never come here");case 2:if(void 0!==(null!==(_getQueryParams=(0,utils.vl)("token"))&&void 0!==_getQueryParams?_getQueryParams:void 0)){_context4.next=12;break}if(sessionContext.doesSessionExist){_context4.next=9;break}return _context4.next=7,redirectToAuthWithHistory();case 7:_context4.next=12;break;case 9:return _context4.next=11,props.recipe.webJSRecipe.isEmailVerified({userContext:userContext});case 11:return _context4.abrupt("return",_context4.sent.isVerified);case 12:return _context4.abrupt("return",!1);case 13:case"end":return _context4.stop()}}),_callee4)}))),[props.recipe,sessionContext,redirectToAuthWithHistory]),checkIsEmailVerified=(0,react.useCallback)(function(){var _ref4=emailVerification_asyncToGenerator(emailVerification_regeneratorRuntime().mark((function _callee5(isVerified){return emailVerification_regeneratorRuntime().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(!isVerified){_context5.next=2;break}return _context5.abrupt("return",onSuccess());case 2:setStatus("READY");case 3:case"end":return _context5.stop()}}),_callee5)})));return function(_x2){return _ref4.apply(this,arguments)}}(),[props.recipe,setStatus,onSuccess]),handleError=(0,react.useCallback)(function(){var _ref5=emailVerification_asyncToGenerator(emailVerification_regeneratorRuntime().mark((function _callee6(err){return emailVerification_regeneratorRuntime().wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,session_recipe.Z.getInstanceOrThrow().doesSessionExist({userContext:userContext});case 2:if(!_context6.sent){_context6.next=6;break}throw err;case 6:return _context6.next=8,redirectToAuthWithHistory();case 8:case"end":return _context6.stop()}}),_callee6)})));return function(_x3){return _ref5.apply(this,arguments)}}(),[redirectToAuthWithHistory]);(0,utils.WD)(fetchIsEmailVerified,checkIsEmailVerified,handleError,!1===sessionContext.loading);var signOut=(0,react.useCallback)(emailVerification_asyncToGenerator(emailVerification_regeneratorRuntime().mark((function _callee7(){var session;return emailVerification_regeneratorRuntime().wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return session=session_recipe.Z.getInstanceOrThrow(),_context7.next=3,session.signOut(props.userContext);case 3:return _context7.abrupt("return",redirectToAuthWithHistory());case 4:case"end":return _context7.stop()}}),_callee7)}))),[props.recipe,redirectToAuthWithHistory]);if("LOADING"===status)return(0,jsx_runtime.jsx)(react.Fragment,{});var sendVerifyEmailScreen={styleFromInit:props.recipe.config.sendVerifyEmailScreen.style,recipeImplementation:modifiedRecipeImplementation,config:props.recipe.config,signOut:signOut,onEmailAlreadyVerified:onSuccess,redirectToAuth:redirectToAuthWithHistory},verifyEmailLinkClickedScreenFeature=props.recipe.config.verifyEmailLinkClickedScreen,token=null!==(_getQueryParams2=(0,utils.vl)("token"))&&void 0!==_getQueryParams2?_getQueryParams2:void 0,verifyEmailLinkClickedScreen=void 0===token?void 0:{styleFromInit:verifyEmailLinkClickedScreenFeature.style,onTokenInvalidRedirect:redirectToAuthWithHistory,onSuccess:onSuccess,recipeImplementation:modifiedRecipeImplementation,config:props.recipe.config,token:token},childProps={config:props.recipe.config,sendVerifyEmailScreen:sendVerifyEmailScreen,verifyEmailLinkClickedScreen:verifyEmailLinkClickedScreen,hasToken:void 0!==token};return(0,jsx_runtime.jsx)(componentOverrideContext.u.Provider,{value:recipeComponentOverrides,children:(0,jsx_runtime.jsx)(featureWrapper.Z,{useShadowDom:props.recipe.config.useShadowDom,defaultStore:translations.Q,children:(0,jsx_runtime.jsxs)(react.Fragment,{children:[void 0===props.children&&(0,jsx_runtime.jsx)(themes_emailVerification,features_emailVerification_objectSpread({},childProps)),props.children&&react.Children.map(props.children,(function(child){return react.isValidElement(child)?react.cloneElement(child,childProps):child}))]})})})};EmailVerification.displayName="EmailVerification";var features_emailVerification=EmailVerification;try{EmailVerification.displayName="EmailVerification",EmailVerification.__docgenInfo={description:"",displayName:"EmailVerification",props:{history:{defaultValue:null,description:"",name:"history",required:!1,type:{name:"any"}},recipe:{defaultValue:null,description:"",name:"recipe",required:!0,type:{name:"EmailVerification"}},userContext:{defaultValue:null,description:"",name:"userContext",required:!1,type:{name:"any"}},useComponentOverrides:{defaultValue:null,description:"",name:"useComponentOverrides",required:!0,type:{name:"() => ComponentOverrideMap"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib/ts/recipe/emailverification/components/features/emailVerification/index.tsx#EmailVerification"]={docgenInfo:EmailVerification.__docgenInfo,name:"EmailVerification",path:"lib/ts/recipe/emailverification/components/features/emailVerification/index.tsx#EmailVerification"})}catch(__react_docgen_typescript_loader_error){}try{emailVerification.displayName="emailVerification",emailVerification.__docgenInfo={description:"",displayName:"emailVerification",props:{history:{defaultValue:null,description:"",name:"history",required:!1,type:{name:"any"}},recipe:{defaultValue:null,description:"",name:"recipe",required:!0,type:{name:"EmailVerification"}},userContext:{defaultValue:null,description:"",name:"userContext",required:!1,type:{name:"any"}},useComponentOverrides:{defaultValue:null,description:"",name:"useComponentOverrides",required:!0,type:{name:"() => ComponentOverrideMap"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib/ts/recipe/emailverification/components/features/emailVerification/index.tsx#emailVerification"]={docgenInfo:emailVerification.__docgenInfo,name:"emailVerification",path:"lib/ts/recipe/emailverification/components/features/emailVerification/index.tsx#emailVerification"})}catch(__react_docgen_typescript_loader_error){}var _class,constants=__webpack_require__("./lib/ts/recipe/emailverification/constants.ts");function prebuiltui_typeof(o){return prebuiltui_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},prebuiltui_typeof(o)}function prebuiltui_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function prebuiltui_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?prebuiltui_ownKeys(Object(t),!0).forEach((function(r){prebuiltui_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):prebuiltui_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function prebuiltui_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,prebuiltui_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===prebuiltui_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}(this,result)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function prebuiltui_defineProperty(obj,key,value){return(key=prebuiltui_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function prebuiltui_toPropertyKey(arg){var key=function prebuiltui_toPrimitive(input,hint){if("object"!==prebuiltui_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==prebuiltui_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===prebuiltui_typeof(key)?key:String(key)}var EmailVerificationPreBuiltUI=function(_RecipeRouter){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(EmailVerificationPreBuiltUI,_RecipeRouter);var _super=_createSuper(EmailVerificationPreBuiltUI);function EmailVerificationPreBuiltUI(recipeInstance){var _this;return function prebuiltui_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EmailVerificationPreBuiltUI),prebuiltui_defineProperty(_assertThisInitialized(_this=_super.call(this)),"getFeatures",(function(){var useComponentOverrides=arguments.length>0&&void 0!==arguments[0]?arguments[0]:useContext,features={};!0!==_this.recipeInstance.config.disableDefaultUI&&(features[_this.recipeInstance.config.appInfo.websiteBasePath.appendPath(new(normalisedURLPath_default())(constants.I)).getAsStringDangerous()]={matches:(0,utils.jP)(_this.recipeInstance.config.recipeId),component:function component(props){return _this.getFeatureComponent("emailverification",props,useComponentOverrides)},recipeID:recipe.Z.RECIPE_ID});return features})),prebuiltui_defineProperty(_assertThisInitialized(_this),"getFeatureComponent",(function(_,props){var useComponentOverrides=arguments.length>2&&void 0!==arguments[2]?arguments[2]:useContext;return(0,jsx_runtime.jsx)(userContextWrapper.Z,{userContext:props.userContext,children:(0,jsx_runtime.jsx)(session.ek,{requireAuth:!1,overrideGlobalClaimValidators:function overrideGlobalClaimValidators(){return[]},children:(0,jsx_runtime.jsx)(usercontext.ts.Consumer,{children:function children(value){return(0,jsx_runtime.jsx)(features_emailVerification,prebuiltui_objectSpread({recipe:_this.recipeInstance,useComponentOverrides:useComponentOverrides},prebuiltui_objectSpread(prebuiltui_objectSpread({},props),{},{userContext:value})))}})})})})),_this.recipeInstance=recipeInstance,_this}return function prebuiltui_createClass(Constructor,protoProps,staticProps){return protoProps&&prebuiltui_defineProperties(Constructor.prototype,protoProps),staticProps&&prebuiltui_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(EmailVerificationPreBuiltUI,null,[{key:"getInstanceOrInitAndGetInstance",value:function getInstanceOrInitAndGetInstance(){if(void 0===EmailVerificationPreBuiltUI.instance){var _recipeInstance=recipe.Z.getInstanceOrThrow();EmailVerificationPreBuiltUI.instance=new EmailVerificationPreBuiltUI(_recipeInstance)}return EmailVerificationPreBuiltUI.instance}},{key:"getFeatures",value:function getFeatures(){var useComponentOverrides=arguments.length>0&&void 0!==arguments[0]?arguments[0]:useContext;return EmailVerificationPreBuiltUI.getInstanceOrInitAndGetInstance().getFeatures(useComponentOverrides)}},{key:"getFeatureComponent",value:function getFeatureComponent(componentName,props){var useComponentOverrides=arguments.length>2&&void 0!==arguments[2]?arguments[2]:useContext;return EmailVerificationPreBuiltUI.getInstanceOrInitAndGetInstance().getFeatureComponent(componentName,props,useComponentOverrides)}},{key:"reset",value:function reset(){(0,utils.Y8)()&&(EmailVerificationPreBuiltUI.instance=void 0)}}]),EmailVerificationPreBuiltUI}(recipeRouter.G);_class=EmailVerificationPreBuiltUI,prebuiltui_defineProperty(EmailVerificationPreBuiltUI,"EmailVerification",(function(props){return _class.getInstanceOrInitAndGetInstance().getFeatureComponent("emailverification",props)})),prebuiltui_defineProperty(EmailVerificationPreBuiltUI,"EmailVerificationTheme",emailVerification_EmailVerificationTheme);var prebuiltui_EmailVerification=EmailVerificationPreBuiltUI.EmailVerification;try{prebuiltui_EmailVerification.displayName="EmailVerificationPreBuiltUI.EmailVerification",prebuiltui_EmailVerification.__docgenInfo={description:"",displayName:"EmailVerificationPreBuiltUI.EmailVerification",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib/ts/recipe/emailverification/prebuiltui.tsx#EmailVerificationPreBuiltUI.EmailVerification"]={docgenInfo:EmailVerificationPreBuiltUI.EmailVerification.__docgenInfo,name:"EmailVerificationPreBuiltUI.EmailVerification",path:"lib/ts/recipe/emailverification/prebuiltui.tsx#EmailVerificationPreBuiltUI.EmailVerification"})}catch(__react_docgen_typescript_loader_error){}try{EmailVerificationTheme.displayName="EmailVerificationPreBuiltUI.EmailVerificationTheme",EmailVerificationTheme.__docgenInfo={description:"",displayName:"EmailVerificationPreBuiltUI.EmailVerificationTheme",props:{sendVerifyEmailScreen:{defaultValue:null,description:"",name:"sendVerifyEmailScreen",required:!0,type:{name:"SendVerifyEmailThemeProps"}},verifyEmailLinkClickedScreen:{defaultValue:null,description:"",name:"verifyEmailLinkClickedScreen",required:!1,type:{name:"VerifyEmailLinkClickedThemeProps"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"NormalisedConfig"}},userContext:{defaultValue:null,description:"",name:"userContext",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib/ts/recipe/emailverification/prebuiltui.tsx#EmailVerificationPreBuiltUI.EmailVerificationTheme"]={docgenInfo:EmailVerificationPreBuiltUI.EmailVerificationTheme.__docgenInfo,name:"EmailVerificationPreBuiltUI.EmailVerificationTheme",path:"lib/ts/recipe/emailverification/prebuiltui.tsx#EmailVerificationPreBuiltUI.EmailVerificationTheme"})}catch(__react_docgen_typescript_loader_error){}try{prebuiltui_EmailVerification.displayName="EmailVerification",prebuiltui_EmailVerification.__docgenInfo={description:"",displayName:"EmailVerification",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib/ts/recipe/emailverification/prebuiltui.tsx#EmailVerification"]={docgenInfo:prebuiltui_EmailVerification.__docgenInfo,name:"EmailVerification",path:"lib/ts/recipe/emailverification/prebuiltui.tsx#EmailVerification"})}catch(__react_docgen_typescript_loader_error){}try{EmailVerificationTheme.displayName="EmailVerificationTheme",EmailVerificationTheme.__docgenInfo={description:"",displayName:"EmailVerificationTheme",props:{sendVerifyEmailScreen:{defaultValue:null,description:"",name:"sendVerifyEmailScreen",required:!0,type:{name:"SendVerifyEmailThemeProps"}},verifyEmailLinkClickedScreen:{defaultValue:null,description:"",name:"verifyEmailLinkClickedScreen",required:!1,type:{name:"VerifyEmailLinkClickedThemeProps"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"NormalisedConfig"}},userContext:{defaultValue:null,description:"",name:"userContext",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib/ts/recipe/emailverification/prebuiltui.tsx#EmailVerificationTheme"]={docgenInfo:EmailVerificationTheme.__docgenInfo,name:"EmailVerificationTheme",path:"lib/ts/recipe/emailverification/prebuiltui.tsx#EmailVerificationTheme"})}catch(__react_docgen_typescript_loader_error){}var _SentEmail$parameters,_SentEmail$parameters2,_LinkCliked$parameter,_LinkCliked$parameter2,stories_utils=__webpack_require__("./stories/utils.ts");function emailverification_stories_typeof(o){return emailverification_stories_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},emailverification_stories_typeof(o)}function emailverification_stories_regeneratorRuntime(){emailverification_stories_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==emailverification_stories_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(emailverification_stories_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function emailverification_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function emailverification_stories_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){emailverification_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){emailverification_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function emailverification_stories_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function emailverification_stories_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?emailverification_stories_ownKeys(Object(t),!0).forEach((function(r){emailverification_stories_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):emailverification_stories_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function emailverification_stories_defineProperty(obj,key,value){return(key=function emailverification_stories_toPropertyKey(arg){var key=function emailverification_stories_toPrimitive(input,hint){if("object"!==emailverification_stories_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==emailverification_stories_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===emailverification_stories_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var emailverification_stories={title:"EmailVerification",render:function render(args){var _args$path,_useMemo=(0,react.useMemo)((function(){for(var prebuiltUIs=[EmailVerificationPreBuiltUI],recipeList=[Wrapper.init({useShadowDom:!1,mode:"OPTIONAL",override:{functions:function functions(oI){return emailverification_stories_objectSpread(emailverification_stories_objectSpread({},oI),{},{isEmailVerified:(_isEmailVerified=emailverification_stories_asyncToGenerator(emailverification_stories_regeneratorRuntime().mark((function _callee(){return emailverification_stories_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",(0,stories_utils.B5)({status:"OK",isVerified:!1}));case 1:case"end":return _context.stop()}}),_callee)}))),function isEmailVerified(){return _isEmailVerified.apply(this,arguments)}),sendVerificationEmail:(_sendVerificationEmail=emailverification_stories_asyncToGenerator(emailverification_stories_regeneratorRuntime().mark((function _callee2(){return emailverification_stories_regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",(0,stories_utils.B5)({status:"OK"}));case 1:case"end":return _context2.stop()}}),_callee2)}))),function sendVerificationEmail(){return _sendVerificationEmail.apply(this,arguments)}),verifyEmail:function verifyEmail(){return new Promise((function(res){}))}});var _sendVerificationEmail,_isEmailVerified}}}),session.ZP.init({override:{functions:function functions(oI){return emailverification_stories_objectSpread(emailverification_stories_objectSpread({},oI),{},{getUserId:(_getUserId=emailverification_stories_asyncToGenerator(emailverification_stories_regeneratorRuntime().mark((function _callee3(){return emailverification_stories_regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return","test-userid");case 1:case"end":return _context3.stop()}}),_callee3)}))),function getUserId(){return _getUserId.apply(this,arguments)}),doesSessionExist:(_doesSessionExist=emailverification_stories_asyncToGenerator(emailverification_stories_regeneratorRuntime().mark((function _callee4(){return emailverification_stories_regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",!0);case 1:case"end":return _context4.stop()}}),_callee4)}))),function doesSessionExist(){return _doesSessionExist.apply(this,arguments)}),getAccessTokenPayloadSecurely:(_getAccessTokenPayloadSecurely=emailverification_stories_asyncToGenerator(emailverification_stories_regeneratorRuntime().mark((function _callee5(){return emailverification_stories_regeneratorRuntime().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.abrupt("return",{"st-ev":{v:!1,t:Date.now()}});case 1:case"end":return _context5.stop()}}),_callee5)}))),function getAccessTokenPayloadSecurely(){return _getAccessTokenPayloadSecurely.apply(this,arguments)})});var _getAccessTokenPayloadSecurely,_doesSessionExist,_getUserId}}})],_i=0,_prebuiltUIs=prebuiltUIs;_i<_prebuiltUIs.length;_i++){_prebuiltUIs[_i].reset()}return(0,stories_utils.AA)(recipeList,args.usesDynamicLoginMethods,{path:args.path,query:args.query,hash:args.hash}),{prebuiltUIs:prebuiltUIs,key:JSON.stringify(args)}}),[args]),prebuiltUIs=_useMemo.prebuiltUIs,key=_useMemo.key;return(0,jsx_runtime.jsx)(errorBoundary.S,{children:(0,jsx_runtime.jsx)(routingComponent.N,{path:null!==(_args$path=args.path)&&void 0!==_args$path?_args$path:"/auth",preBuiltUIList:prebuiltUIs.map((function(c){return c.getInstanceOrInitAndGetInstance()})),getReactRouterDomWithCustomHistory:function getReactRouterDomWithCustomHistory(){}},key)},key)},args:{path:"/auth/verify-email",query:""}},SentEmail={},LinkCliked={args:{path:"/auth/verify-email",query:"token=asdf"}};SentEmail.parameters=emailverification_stories_objectSpread(emailverification_stories_objectSpread({},SentEmail.parameters),{},{docs:emailverification_stories_objectSpread(emailverification_stories_objectSpread({},null===(_SentEmail$parameters=SentEmail.parameters)||void 0===_SentEmail$parameters?void 0:_SentEmail$parameters.docs),{},{source:emailverification_stories_objectSpread({originalSource:"{}"},null===(_SentEmail$parameters2=SentEmail.parameters)||void 0===_SentEmail$parameters2||null===(_SentEmail$parameters2=_SentEmail$parameters2.docs)||void 0===_SentEmail$parameters2?void 0:_SentEmail$parameters2.source)})}),LinkCliked.parameters=emailverification_stories_objectSpread(emailverification_stories_objectSpread({},LinkCliked.parameters),{},{docs:emailverification_stories_objectSpread(emailverification_stories_objectSpread({},null===(_LinkCliked$parameter=LinkCliked.parameters)||void 0===_LinkCliked$parameter?void 0:_LinkCliked$parameter.docs),{},{source:emailverification_stories_objectSpread({originalSource:'{\n  args: {\n    path: "/auth/verify-email",\n    query: "token=asdf"\n  }\n}'},null===(_LinkCliked$parameter2=LinkCliked.parameters)||void 0===_LinkCliked$parameter2||null===(_LinkCliked$parameter2=_LinkCliked$parameter2.docs)||void 0===_LinkCliked$parameter2?void 0:_LinkCliked$parameter2.source)})});var __namedExportsOrder=["SentEmail","LinkCliked"]},"./stories/errorBoundary.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{S:function(){return ErrorBoundary}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"),"symbol"===_typeof(key)?key:String(key)),descriptor)}var arg,key}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var ErrorBoundary=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(ErrorBoundary,_React$Component);var _super=_createSuper(ErrorBoundary);function ErrorBoundary(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ErrorBoundary),(_this=_super.call(this,props)).state={hasError:!1,error:void 0},_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(ErrorBoundary,[{key:"render",value:function render(){var _this$state$error$mes;return this.state.hasError?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("h1",{children:"User error boundary hit with error:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("pre",{children:null!==(_this$state$error$mes=this.state.error.message)&&void 0!==_this$state$error$mes?_this$state$error$mes:JSON.stringify(this.state.error,null,2)})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function getDerivedStateFromError(error){return{hasError:!0,error:error}}}]),ErrorBoundary}(react__WEBPACK_IMPORTED_MODULE_0__.Component);ErrorBoundary.displayName="ErrorBoundary"}}]);