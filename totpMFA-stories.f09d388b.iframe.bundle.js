/*! For license information please see totpMFA-stories.f09d388b.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunksupertokens_auth_react=self.webpackChunksupertokens_auth_react||[]).push([[322],{"./stories/totpMFA.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Blocked:function(){return Blocked},DeviceSetup:function(){return DeviceSetup},DeviceSetupAccessDenied:function(){return DeviceSetupAccessDenied},DeviceSetupEmptySubmit:function(){return DeviceSetupEmptySubmit},DeviceSetupInvalidTOTP:function(){return DeviceSetupInvalidTOTP},DeviceSetupWithSecret:function(){return DeviceSetupWithSecret},Loading:function(){return Loading},Verification:function(){return Verification},VerificationEmptySubmit:function(){return VerificationEmptySubmit},VerificationGeneralError:function(){return VerificationGeneralError},VerificationInvalidTOTP:function(){return VerificationInvalidTOTP},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return totpMFA_stories}});var dist=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),react=__webpack_require__("./node_modules/react/index.js"),SuperTokensBranding=__webpack_require__("./lib/ts/components/SuperTokensBranding.tsx"),styles=__webpack_require__("./lib/ts/styles/styles.ts"),translationContext=__webpack_require__("./lib/ts/translation/translationContext.tsx"),userContextWrapper=__webpack_require__("./lib/ts/usercontext/userContextWrapper.tsx"),generalError=__webpack_require__("./lib/ts/recipe/emailpassword/components/library/generalError.tsx"),prebuiltui=__webpack_require__("./lib/ts/recipe/session/prebuiltui.tsx"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),themes_styles=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!./lib/ts/recipe/totp/components/themes/styles.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(themes_styles.Z,options);var components_themes_styles=themes_styles.Z&&themes_styles.Z.locals?themes_styles.Z.locals:void 0,jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ThemeBase=function ThemeBase(_ref){var children=_ref.children,userStyles=_ref.userStyles,loadDefaultFont=_ref.loadDefaultFont;return(0,jsx_runtime.jsxs)(react.Fragment,{children:[children,loadDefaultFont&&(0,jsx_runtime.jsx)("link",{href:"//fonts.googleapis.com/css?family=Rubik:wght@300;400;600;500;700",rel:"stylesheet",type:"text/css"}),(0,jsx_runtime.jsxs)("style",{children:[components_themes_styles,userStyles.join("\n")]})]})};ThemeBase.displayName="ThemeBase";var BlockedIcon=function BlockedIcon(){return(0,jsx_runtime.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"65",height:"65",viewBox:"0 0 65 65",fill:"none",children:[(0,jsx_runtime.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32.5",fill:"#FCEAEB"}),(0,jsx_runtime.jsx)("path",{d:"M32.8804 36.5547C32.1233 36.5547 31.5039 37.1741 31.5039 37.9312C31.5039 38.6882 32.1233 39.3076 32.8804 39.3076C33.6374 39.3076 34.2568 38.6882 34.2568 37.9312C34.2568 37.1741 33.6374 36.5547 32.8804 36.5547Z",fill:"#CF3644"}),(0,jsx_runtime.jsx)("path",{d:"M41.829 29.6724V23.4783C41.829 18.5402 37.82 14.5312 32.8819 14.5312C27.9352 14.5312 23.9348 18.5402 23.9348 23.4783V29.6724H19.1172V50.3195H46.6466V29.6724H41.829ZM33.5701 40.5982V44.1254C33.5701 44.5039 33.2604 44.8136 32.8819 44.8136C32.5034 44.8136 32.1937 44.5039 32.1937 44.1254V40.5982C31.0065 40.2885 30.129 39.2131 30.129 37.9312C30.129 36.4085 31.3592 35.1783 32.8819 35.1783C34.4046 35.1783 35.6348 36.4085 35.6348 37.9312C35.6348 39.2131 34.7573 40.2885 33.5701 40.5982ZM40.4525 29.6724H25.3113V23.4783C25.3113 19.3059 28.7095 15.9077 32.8819 15.9077C37.0543 15.9077 40.4525 19.3059 40.4525 23.4783V29.6724Z",fill:"#CF3644"})]})};BlockedIcon.displayName="BlockedIcon";var withOverride=__webpack_require__("./lib/ts/components/componentOverride/withOverride.tsx"),library=__webpack_require__("./lib/ts/recipe/emailpassword/components/library/index.ts");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var RetryButton=(0,withOverride.u)("TOTPRetryButton",(function TOTPRetryButton(_ref){var nextRetryAt=_ref.nextRetryAt,onClick=_ref.onClick,t=(0,translationContext.$G)(),getTimeLeft=(0,react.useCallback)((function(){var timeLeft=nextRetryAt-Date.now();return timeLeft<0?void 0:Math.ceil(timeLeft/1e3)}),[nextRetryAt]),_useState2=_slicedToArray((0,react.useState)(getTimeLeft()),2),secsUntilRetry=_useState2[0],setSecsUntilRetry=_useState2[1];return(0,react.useEffect)((function(){var interval=setInterval((function(){var timeLeft=getTimeLeft();void 0===timeLeft&&clearInterval(interval),setSecsUntilRetry(timeLeft)}),500);return function(){clearInterval(interval)}}),[getTimeLeft,setSecsUntilRetry]),(0,jsx_runtime.jsx)("button",{type:"button",disabled:void 0!==secsUntilRetry,onClick:onClick,"data-supertokens":"button retryCodeBtn",children:void 0!==secsUntilRetry?(0,jsx_runtime.jsxs)(react.Fragment,{children:[t("TOTP_MFA_BLOCKED_TIMER_START"),(0,jsx_runtime.jsxs)("strong",{children:[Math.floor(secsUntilRetry/60).toString().padStart(2,"0"),":",(secsUntilRetry%60).toString().padStart(2,"0")]}),t("TOTP_MFA_BLOCKED_TIMER_END")]}):t("TOTP_MFA_BLOCKED_RETRY")})})),TOTPBlockedScreen=function TOTPBlockedScreen(props){var t=(0,translationContext.$G)();return(0,jsx_runtime.jsx)("div",{"data-supertokens":"container",children:(0,jsx_runtime.jsxs)("div",{"data-supertokens":"row noFormRow",children:[(0,jsx_runtime.jsx)(BlockedIcon,{}),(0,jsx_runtime.jsx)("div",{"data-supertokens":"headerTitle",children:t("TOTP_BLOCKED_TITLE")}),(0,jsx_runtime.jsx)("div",{"data-supertokens":"headerSubtitle secondaryText",children:t("TOTP_BLOCKED_SUBTITLE")}),(0,jsx_runtime.jsx)("div",{"data-supertokens":"divider"}),(0,jsx_runtime.jsx)(library.p7,{children:(0,jsx_runtime.jsx)(RetryButton,{nextRetryAt:props.nextRetryAt,onClick:props.onRetry})},"form-button")]})})};TOTPBlockedScreen.displayName="TOTPBlockedScreen";var BlockedScreen=(0,withOverride.u)("TOTPBlockedScreen",TOTPBlockedScreen),spinnerIcon=__webpack_require__("./lib/ts/components/assets/spinnerIcon.tsx"),TOTPLoadingScreen=function TOTPLoadingScreen(){return(0,jsx_runtime.jsx)("div",{"data-supertokens":"container delayedRender",children:(0,jsx_runtime.jsx)("div",{"data-supertokens":"row",children:(0,jsx_runtime.jsx)("div",{"data-supertokens":"spinner delayedRender",children:(0,jsx_runtime.jsx)(spinnerIcon.Z,{})})})})};TOTPLoadingScreen.displayName="TOTPLoadingScreen";var LoadingScreen=(0,withOverride.u)("TOTPLoadingScreen",TOTPLoadingScreen),error=__webpack_require__("./node_modules/supertokens-web-js/utils/error.js"),error_default=__webpack_require__.n(error),usercontext=__webpack_require__("./lib/ts/usercontext/index.tsx"),formBase=__webpack_require__("./lib/ts/recipe/emailpassword/components/library/formBase.tsx"),validators=__webpack_require__("./lib/ts/recipe/passwordless/validators.ts");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var CodeForm=(0,withOverride.u)("TOTPCodeForm",(function TOTPCodeForm(props){var userContext=(0,usercontext.SE)();return(0,jsx_runtime.jsx)(react.Fragment,{children:(0,jsx_runtime.jsx)(formBase.Z,{clearError:props.clearError,onError:props.onError,formFields:[{id:"totp",label:"TOTP_CODE_INPUT_LABEL",autofocus:!0,optional:!1,clearOnSubmit:!0,autoComplete:"one-time-code",placeholder:"",validate:validators.FS}],onSuccess:props.onSuccess,buttonLabel:"TOTP_CODE_CONTINUE_BUTTON",callAPI:function(){var _ref=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(formFields){var _formFields$find,totp,response;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(void 0!==(totp=null===(_formFields$find=formFields.find((function(field){return"totp"===field.id})))||void 0===_formFields$find?void 0:_formFields$find.value)&&0!==totp.length){_context.next=3;break}throw new(error_default())("GENERAL_ERROR_OTP_UNDEFINED");case 3:if(!props.featureState.deviceInfo){_context.next=9;break}return _context.next=6,props.recipeImplementation.verifyDevice({deviceName:props.featureState.deviceInfo.deviceName,totp:totp,userContext:userContext});case 6:response=_context.sent,_context.next=12;break;case 9:return _context.next=11,props.recipeImplementation.verifyCode({totp:totp,userContext:userContext});case 11:response=_context.sent;case 12:if("OK"!==response.status&&"UNKNOWN_DEVICE_ERROR"!==response.status&&"LIMIT_REACHED_ERROR"!==response.status){_context.next=14;break}return _context.abrupt("return",response);case 14:throw new(error_default())("SOMETHING_WENT_WRONG_ERROR");case 15:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),validateOnBlur:!1,showLabels:!0,footer:props.footer})})})),arrowLeftIcon=__webpack_require__("./lib/ts/components/assets/arrowLeftIcon.tsx"),multifactorauth=__webpack_require__("./lib/ts/recipe/multifactorauth/index.ts"),session=__webpack_require__("./lib/ts/recipe/session/index.ts"),CodeVerificationFooter=(0,withOverride.u)("TOTPCodeVerificationFooter",(function TOTPCodeVerificationFooter(_ref){var _claim$value$n$length,_claim$value,onSignOutClicked=_ref.onSignOutClicked,onFactorChooserButtonClicked=_ref.onFactorChooserButtonClicked,claim=(0,session.xr)(multifactorauth.o),t=(0,translationContext.$G)();return(0,jsx_runtime.jsxs)("div",{"data-supertokens":"footerLinkGroup totpMFAVerificationFooter",children:[!1===claim.loading&&(null!==(_claim$value$n$length=null===(_claim$value=claim.value)||void 0===_claim$value?void 0:_claim$value.n.length)&&void 0!==_claim$value$n$length?_claim$value$n$length:0)>1&&(0,jsx_runtime.jsx)("div",{"data-supertokens":"secondaryText secondaryLinkWithLeftArrow",onClick:onFactorChooserButtonClicked,children:t("TOTP_MFA_FOOTER_CHOOSER_ANOTHER")}),(0,jsx_runtime.jsxs)("div",{"data-supertokens":"secondaryText secondaryLinkWithLeftArrow",onClick:onSignOutClicked,children:[(0,jsx_runtime.jsx)(arrowLeftIcon.Z,{color:"rgb(var(--palette-textPrimary))"}),t("TOTP_MFA_LOGOUT")]})]})})),backButton=__webpack_require__("./lib/ts/recipe/emailpassword/components/library/backButton.tsx"),CodeVerificationHeader=(0,withOverride.u)("TOTPCodeVerificationHeader",(function TOTPCodeVerificationHeader(props){var t=(0,translationContext.$G)();return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{"data-supertokens":"headerTitle withBackButton",children:[props.showBackButton?(0,jsx_runtime.jsx)(backButton.Z,{onClick:props.onBackButtonClicked}):(0,jsx_runtime.jsx)("span",{"data-supertokens":"backButtonPlaceholder backButtonCommon"}),t("TOTP_CODE_VERIFICATION_HEADER_TITLE"),(0,jsx_runtime.jsx)("span",{"data-supertokens":"backButtonPlaceholder backButtonCommon"})]}),(0,jsx_runtime.jsx)("div",{"data-supertokens":"headerSubtitle secondaryText",children:t("TOTP_CODE_VERIFICATION_HEADER_SUBTITLE")}),(0,jsx_runtime.jsx)("div",{"data-supertokens":"divider"})]})})),lib=__webpack_require__("./node_modules/react-qr-code/lib/index.js"),DeviceInfoSection=(0,withOverride.u)("TOTPDeviceInfoSection",(function TOTPDeviceInfoSection(props){var t=(0,translationContext.$G)();return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{"data-supertokens":"totpDeviceInfoWithQR",children:[(0,jsx_runtime.jsx)(lib.ZP,{value:props.deviceInfo.qrCodeString,"data-supertokens":"totpDeviceQR",level:"L"}),(0,jsx_runtime.jsxs)("span",{"data-supertokens":"showTOTPSecret",children:[t("TOTP_SHOW_SECRET_START"),(0,jsx_runtime.jsx)("button",{type:"button",onClick:props.onShowSecretClick,"data-supertokens":"link linkButton showTOTPSecretBtn",children:t("TOTP_SHOW_SECRET_LINK")}),t("TOTP_SHOW_SECRET_END")]}),props.showSecret&&(0,jsx_runtime.jsx)("span",{"data-supertokens":"totpSecret",children:props.deviceInfo.secret})]}),(0,jsx_runtime.jsx)("div",{"data-supertokens":"divider"})]})})),DeviceSetupFooter=(0,withOverride.u)("TOTPDeviceSetupFooter",(function TOTPDeviceSetupFooter(_ref){var _claim$value$n$length,_claim$value,onSignOutClicked=_ref.onSignOutClicked,onFactorChooserButtonClicked=_ref.onFactorChooserButtonClicked,claim=(0,session.xr)(multifactorauth.o),t=(0,translationContext.$G)();return(0,jsx_runtime.jsxs)("div",{"data-supertokens":"footerLinkGroup totpMFASetupFooter",children:[!1===claim.loading&&(null!==(_claim$value$n$length=null===(_claim$value=claim.value)||void 0===_claim$value?void 0:_claim$value.n.length)&&void 0!==_claim$value$n$length?_claim$value$n$length:0)>1&&(0,jsx_runtime.jsx)("div",{"data-supertokens":"secondaryText secondaryLinkWithLeftArrow",onClick:onFactorChooserButtonClicked,children:t("TOTP_MFA_FOOTER_CHOOSER_ANOTHER")}),(0,jsx_runtime.jsxs)("div",{"data-supertokens":"secondaryText secondaryLinkWithLeftArrow",onClick:onSignOutClicked,children:[(0,jsx_runtime.jsx)(arrowLeftIcon.Z,{color:"rgb(var(--palette-textPrimary))"}),t("TOTP_MFA_LOGOUT")]})]})})),DeviceSetupHeader=(0,withOverride.u)("TOTPDeviceSetupHeader",(function TOTPDeviceSetupHeader(props){var t=(0,translationContext.$G)();return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{"data-supertokens":"headerTitle withBackButton",children:[props.showBackButton?(0,jsx_runtime.jsx)(backButton.Z,{onClick:props.onBackButtonClicked}):(0,jsx_runtime.jsx)("span",{"data-supertokens":"backButtonPlaceholder backButtonCommon"}),t("TOTP_DEVICE_SETUP_HEADER_TITLE"),(0,jsx_runtime.jsx)("span",{"data-supertokens":"backButtonPlaceholder backButtonCommon"})]}),(0,jsx_runtime.jsx)("div",{"data-supertokens":"headerSubtitle secondaryText",children:t("TOTP_DEVICE_SETUP_HEADER_SUBTITLE")}),(0,jsx_runtime.jsx)("div",{"data-supertokens":"divider"})]})}));function mfa_typeof(o){return mfa_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},mfa_typeof(o)}var _excluded=["activeScreen","featureState"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==mfa_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==mfa_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===mfa_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var TOTPMFAScreens=function(TOTPMFAScreens){return TOTPMFAScreens[TOTPMFAScreens.DeviceSetup=0]="DeviceSetup",TOTPMFAScreens[TOTPMFAScreens.CodeVerification=1]="CodeVerification",TOTPMFAScreens[TOTPMFAScreens.Loading=2]="Loading",TOTPMFAScreens[TOTPMFAScreens.Blocked=3]="Blocked",TOTPMFAScreens[TOTPMFAScreens.AccessDenied=4]="AccessDenied",TOTPMFAScreens}({}),SignInUpTheme=function SignInUpTheme(_ref){var activeScreen=_ref.activeScreen,featureState=_ref.featureState,props=_objectWithoutProperties(_ref,_excluded),t=(0,translationContext.$G)(),commonProps={featureState:featureState,recipeImplementation:props.recipeImplementation,config:props.config,clearError:function clearError(){return props.dispatch({type:"setError",error:void 0})},onError:function onError(error){return props.dispatch({type:"setError",error:error})}};return activeScreen===TOTPMFAScreens.Blocked?(0,jsx_runtime.jsx)(BlockedScreen,{nextRetryAt:featureState.nextRetryAt,onRetry:props.onRetryClicked}):activeScreen===TOTPMFAScreens.AccessDenied?(0,jsx_runtime.jsx)(prebuiltui.rD,{error:t(featureState.error),useShadowDom:!1}):activeScreen===TOTPMFAScreens.Loading?(0,jsx_runtime.jsx)(LoadingScreen,{}):(0,jsx_runtime.jsxs)("div",{"data-supertokens":"container",children:[(0,jsx_runtime.jsx)("div",{"data-supertokens":"row",children:featureState.loaded&&(0,jsx_runtime.jsxs)(react.Fragment,{children:[activeScreen===TOTPMFAScreens.DeviceSetup?(0,jsx_runtime.jsx)(DeviceSetupHeader,_objectSpread(_objectSpread({},commonProps),{},{showBackButton:featureState.showBackButton,onBackButtonClicked:props.onBackButtonClicked})):(0,jsx_runtime.jsx)(CodeVerificationHeader,_objectSpread(_objectSpread({},commonProps),{},{showBackButton:featureState.showBackButton,onBackButtonClicked:props.onBackButtonClicked})),activeScreen===TOTPMFAScreens.DeviceSetup&&(0,jsx_runtime.jsx)(DeviceInfoSection,_objectSpread(_objectSpread({},commonProps),{},{deviceInfo:featureState.deviceInfo,showSecret:featureState.showSecret,onShowSecretClick:props.onShowSecretClick})),void 0!==featureState.error&&(0,jsx_runtime.jsx)(generalError.Z,{error:getErrorString(featureState.error,featureState,t)}),(0,jsx_runtime.jsx)(CodeForm,_objectSpread(_objectSpread({},commonProps),{},{onSuccess:props.onSuccess,footer:activeScreen===TOTPMFAScreens.DeviceSetup?(0,jsx_runtime.jsx)(DeviceSetupFooter,_objectSpread(_objectSpread({},commonProps),{},{onFactorChooserButtonClicked:props.onFactorChooserButtonClicked,onSignOutClicked:props.onSignOutClicked})):(0,jsx_runtime.jsx)(CodeVerificationFooter,_objectSpread(_objectSpread({},commonProps),{},{onFactorChooserButtonClicked:props.onFactorChooserButtonClicked,onSignOutClicked:props.onSignOutClicked}))}))]})}),(0,jsx_runtime.jsx)(SuperTokensBranding.s,{})]})};function TOTPMFAThemeWrapper(props){var activeStyle,hasFont=(0,styles.L)(props.config.rootStyle),activeScreen=getActiveScreen(props);return activeScreen===TOTPMFAScreens.Blocked?activeStyle=props.config.totpMFAScreen.blockedScreenStyle:activeScreen===TOTPMFAScreens.Loading?activeStyle=props.config.totpMFAScreen.loadingScreenStyle:activeScreen===TOTPMFAScreens.DeviceSetup?activeStyle=props.config.totpMFAScreen.setupScreenStyle:activeScreen===TOTPMFAScreens.CodeVerification&&(activeStyle=props.config.totpMFAScreen.verificationScreenStyle),(0,jsx_runtime.jsx)(userContextWrapper.Z,{userContext:props.userContext,children:(0,jsx_runtime.jsx)(ThemeBase,{loadDefaultFont:!hasFont,userStyles:[props.config.rootStyle,activeStyle],children:(0,jsx_runtime.jsx)(SignInUpTheme,_objectSpread(_objectSpread({},props),{},{activeScreen:activeScreen}))})})}TOTPMFAThemeWrapper.displayName="TOTPMFAThemeWrapper";var mfa=TOTPMFAThemeWrapper;function getActiveScreen(props){return props.featureState.isBlocked?TOTPMFAScreens.Blocked:!1===props.featureState.loaded?TOTPMFAScreens.Loading:"TOTP_MFA_NOT_ALLOWED_TO_SETUP"===props.featureState.error?TOTPMFAScreens.AccessDenied:props.featureState.deviceInfo?TOTPMFAScreens.DeviceSetup:TOTPMFAScreens.CodeVerification}function getErrorString(error,state,t){return"ERROR_TOTP_INVALID_CODE"!==error?error:t(error)+" "+t("ERROR_TOTP_INVALID_CODE_RETRY_START")+(state.maxAttemptCount-state.currAttemptCount)+t("ERROR_TOTP_INVALID_CODE_RETRY_END")}try{getActiveScreen.displayName="getActiveScreen",getActiveScreen.__docgenInfo={description:"",displayName:"getActiveScreen",props:{config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"NormalisedConfig"}},featureState:{defaultValue:null,description:"",name:"featureState",required:!0,type:{name:"TOTPMFAState"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib/ts/recipe/totp/components/themes/mfa/index.tsx#getActiveScreen"]={docgenInfo:getActiveScreen.__docgenInfo,name:"getActiveScreen",path:"lib/ts/recipe/totp/components/themes/mfa/index.tsx#getActiveScreen"})}catch(__react_docgen_typescript_loader_error){}try{TOTPMFAThemeWrapper.displayName="TOTPMFAThemeWrapper",TOTPMFAThemeWrapper.__docgenInfo={description:"",displayName:"TOTPMFAThemeWrapper",props:{recipeImplementation:{defaultValue:null,description:"",name:"recipeImplementation",required:!0,type:{name:"RecipeInterface"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"NormalisedConfig"}},onSuccess:{defaultValue:null,description:"",name:"onSuccess",required:!0,type:{name:"() => void"}},onShowSecretClick:{defaultValue:null,description:"",name:"onShowSecretClick",required:!0,type:{name:"() => void"}},onBackButtonClicked:{defaultValue:null,description:"",name:"onBackButtonClicked",required:!0,type:{name:"() => void"}},onRetryClicked:{defaultValue:null,description:"",name:"onRetryClicked",required:!0,type:{name:"() => void"}},onFactorChooserButtonClicked:{defaultValue:null,description:"",name:"onFactorChooserButtonClicked",required:!0,type:{name:"() => void"}},onSignOutClicked:{defaultValue:null,description:"",name:"onSignOutClicked",required:!0,type:{name:"() => void"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"Dispatch<TOTPMFAAction>"}},featureState:{defaultValue:null,description:"",name:"featureState",required:!0,type:{name:"TOTPMFAState"}},userContext:{defaultValue:null,description:"",name:"userContext",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib/ts/recipe/totp/components/themes/mfa/index.tsx#TOTPMFAThemeWrapper"]={docgenInfo:TOTPMFAThemeWrapper.__docgenInfo,name:"TOTPMFAThemeWrapper",path:"lib/ts/recipe/totp/components/themes/mfa/index.tsx#TOTPMFAThemeWrapper"})}catch(__react_docgen_typescript_loader_error){}function translations_typeof(o){return translations_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},translations_typeof(o)}function translations_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function translations_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?translations_ownKeys(Object(t),!0).forEach((function(r){translations_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):translations_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function translations_defineProperty(obj,key,value){return(key=function translations_toPropertyKey(arg){var key=function translations_toPrimitive(input,hint){if("object"!==translations_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==translations_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===translations_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _DeviceSetup$paramete,_DeviceSetup$paramete2,_DeviceSetupAccessDen,_DeviceSetupAccessDen2,_DeviceSetupWithSecre,_DeviceSetupWithSecre2,_DeviceSetupEmptySubm,_DeviceSetupEmptySubm2,_DeviceSetupInvalidTO,_DeviceSetupInvalidTO2,_Verification$paramet,_Verification$paramet2,_VerificationEmptySub,_VerificationEmptySub2,_VerificationGeneralE,_VerificationGeneralE2,_VerificationInvalidT,_VerificationInvalidT2,_Blocked$parameters,_Blocked$parameters2,_Loading$parameters,_Loading$parameters2,defaultTranslationsTOTP={en:translations_objectSpread(translations_objectSpread({},__webpack_require__("./lib/ts/translation/translations.ts").A.en),{},{TOTP_SHOW_SECRET_START:"Unable to scan? Use a secret key",TOTP_SHOW_SECRET_LINK:"secret key",TOTP_SHOW_SECRET_END:"",TOTP_CODE_VERIFICATION_HEADER_TITLE:"Enter TOTP",TOTP_CODE_VERIFICATION_HEADER_SUBTITLE:"Open the two-factor authenticator (TOTP) app on your mobile device to view your authentication code",TOTP_DEVICE_SETUP_HEADER_TITLE:"Enable TOTP",TOTP_DEVICE_SETUP_HEADER_SUBTITLE:"Please scan the given QR code from a phone app like Google Authenticator or Authy.",TOTP_CODE_INPUT_LABEL:"Please enter TOTP",TOTP_CODE_CONTINUE_BUTTON:"Continue",TOTP_BLOCKED_TITLE:"Account locked",TOTP_BLOCKED_SUBTITLE:"Account locked due to multiple failed login attempts.",TOTP_MFA_BLOCKED_TIMER_START:"",TOTP_MFA_BLOCKED_TIMER_END:"",TOTP_MFA_BLOCKED_RETRY:"Try again",TOTP_MFA_LOGOUT:"Logout",TOTP_MFA_FOOTER_CHOOSER_ANOTHER:"Choose another factor",ERROR_TOTP_INVALID_CODE:"Invalid TOTP. Please try again.",ERROR_TOTP_INVALID_CODE_RETRY_START:"",ERROR_TOTP_INVALID_CODE_RETRY_END:" attempt(s) remaining before account is temporarily locked.",ERROR_TOTP_UNKNOWN_DEVICE:"The device was deleted before verification",GENERAL_ERROR_OTP_UNDEFINED:"Please fill your TOTP",TOTP_MFA_NOT_ALLOWED_TO_SETUP:"You are not allowed to set up TOTP."})},componentOverrideContext=__webpack_require__("./lib/ts/components/componentOverride/componentOverrideContext.tsx"),utils=__webpack_require__("./stories/utils.ts");function totpMFA_stories_typeof(o){return totpMFA_stories_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},totpMFA_stories_typeof(o)}function totpMFA_stories_regeneratorRuntime(){totpMFA_stories_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==totpMFA_stories_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(totpMFA_stories_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function totpMFA_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function totpMFA_stories_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){totpMFA_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){totpMFA_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function totpMFA_stories_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function totpMFA_stories_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?totpMFA_stories_ownKeys(Object(t),!0).forEach((function(r){totpMFA_stories_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):totpMFA_stories_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function totpMFA_stories_defineProperty(obj,key,value){return(key=function totpMFA_stories_toPropertyKey(arg){var key=function totpMFA_stories_toPrimitive(input,hint){if("object"!==totpMFA_stories_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==totpMFA_stories_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===totpMFA_stories_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function noop(){}var _verifyDevice,_verifyCode,_removeDevice,_listDevices,_createDevice,defaultState={isBlocked:!1,error:void 0,loaded:!0,showBackButton:!0,showSecret:!1,deviceInfo:void 0,nextRetryAt:void 0},exampleDeviceInfo={qrCodeString:"otpauth://totp/SuperTokens:alice@supertokens.com?secret=JBSWY3DPEHPK3PXP&issuer=SuperTokens",secret:"JBSWY3DPEHPK3PXP",deviceName:"unnamed-1",issuerName:"supertokens",userIdentifier:"alice"},defaultSessionContext={loading:!1,doesSessionExist:!0,invalidClaims:[],accessTokenPayload:{"st-mfa":{c:{},n:[]}},userId:"test-user"},meta={title:"TOTP/MFA",decorators:[function(Story,context){var _context$loaded$sessi;return(0,jsx_runtime.jsx)(session.B3.Provider,{value:null!==(_context$loaded$sessi=context.loaded.session)&&void 0!==_context$loaded$sessi?_context$loaded$sessi:defaultSessionContext,children:(0,jsx_runtime.jsx)(componentOverrideContext.u.Provider,{value:{},children:(0,jsx_runtime.jsx)(translationContext.fM,{translationControlEventSource:{on:noop,off:noop},defaultLanguage:"en",defaultStore:defaultTranslationsTOTP,children:(0,jsx_runtime.jsx)(Story,{})})})})}],component:mfa,render:function render(args,_ref){var featureState=_ref.loaded.featureState;return(0,utils.AA)(),(0,jsx_runtime.jsx)(mfa,totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},args),{},{featureState:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},args.featureState),featureState)}))},args:{featureState:defaultState,config:{rootStyle:"",totpMFAScreen:{disableDefaultUI:!1,blockedScreenStyle:"",loadingScreenStyle:"",setupScreenStyle:"",verificationScreenStyle:""},useShadowDom:!1},recipeImplementation:{createDevice:(_createDevice=totpMFA_stories_asyncToGenerator(totpMFA_stories_regeneratorRuntime().mark((function _callee(){return totpMFA_stories_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return(0,dist.aD)("called verifyCode"),_context.abrupt("return",(0,utils.B5)(totpMFA_stories_objectSpread({status:"OK"},exampleDeviceInfo)));case 2:case"end":return _context.stop()}}),_callee)}))),function createDevice(){return _createDevice.apply(this,arguments)}),listDevices:(_listDevices=totpMFA_stories_asyncToGenerator(totpMFA_stories_regeneratorRuntime().mark((function _callee2(){return totpMFA_stories_regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return(0,dist.aD)("called verifyCode"),_context2.abrupt("return",(0,utils.B5)({status:"OK",devices:[]}));case 2:case"end":return _context2.stop()}}),_callee2)}))),function listDevices(){return _listDevices.apply(this,arguments)}),removeDevice:(_removeDevice=totpMFA_stories_asyncToGenerator(totpMFA_stories_regeneratorRuntime().mark((function _callee3(){return totpMFA_stories_regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return(0,dist.aD)("called verifyCode"),_context3.abrupt("return",(0,utils.B5)({status:"OK",didDeviceExist:!0}));case 2:case"end":return _context3.stop()}}),_callee3)}))),function removeDevice(){return _removeDevice.apply(this,arguments)}),verifyCode:(_verifyCode=totpMFA_stories_asyncToGenerator(totpMFA_stories_regeneratorRuntime().mark((function _callee4(){return totpMFA_stories_regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return(0,dist.aD)("called verifyCode"),_context4.abrupt("return",(0,utils.B5)({status:"OK"}));case 2:case"end":return _context4.stop()}}),_callee4)}))),function verifyCode(){return _verifyCode.apply(this,arguments)}),verifyDevice:(_verifyDevice=totpMFA_stories_asyncToGenerator(totpMFA_stories_regeneratorRuntime().mark((function _callee5(){return totpMFA_stories_regeneratorRuntime().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return(0,dist.aD)("called verifyDevice"),_context5.abrupt("return",(0,utils.B5)({status:"OK",wasAlreadyVerified:!1}));case 2:case"end":return _context5.stop()}}),_callee5)}))),function verifyDevice(){return _verifyDevice.apply(this,arguments)})},dispatch:function dispatch(event){(0,dist.aD)("dispatching "+JSON.stringify(event))},onSuccess:function onSuccess(){(0,dist.aD)("called onSuccess")},onBackButtonClicked:function onBackButtonClicked(){(0,dist.aD)("called onBackButtonClicked")},onRetryClicked:function onRetryClicked(){(0,dist.aD)("called onRetryClicked")},onShowSecretClick:function onShowSecretClick(){(0,dist.aD)("called onShowSecretClick")},onSignOutClicked:function onSignOutClicked(){(0,dist.aD)("called onSignOutClicked")}}},totpMFA_stories=meta,DeviceSetup={args:{featureState:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},defaultState),{},{loaded:!0,deviceInfo:exampleDeviceInfo})}},DeviceSetupAccessDenied={args:{featureState:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},defaultState),{},{loaded:!0,error:"TOTP_MFA_NOT_ALLOWED_TO_SETUP",deviceInfo:void 0})}},DeviceSetupWithSecret={args:{featureState:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},defaultState),{},{loaded:!0,deviceInfo:exampleDeviceInfo,showSecret:!0})}},DeviceSetupEmptySubmit={args:{featureState:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},defaultState),{},{error:"GENERAL_ERROR_OTP_UNDEFINED",loaded:!0,deviceInfo:exampleDeviceInfo})}},DeviceSetupInvalidTOTP={args:{featureState:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},defaultState),{},{loaded:!0,deviceInfo:exampleDeviceInfo,error:"ERROR_TOTP_INVALID_CODE",maxAttemptCount:5,currAttemptCount:1})}},Verification={args:{featureState:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},defaultState),{},{loaded:!0,deviceInfo:void 0})}},VerificationEmptySubmit={args:{featureState:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},defaultState),{},{error:"GENERAL_ERROR_OTP_UNDEFINED",loaded:!0,deviceInfo:void 0})}},VerificationGeneralError={args:{featureState:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},defaultState),{},{error:"SOMETHING_WENT_WRONG_ERROR",loaded:!0,deviceInfo:void 0})}},VerificationInvalidTOTP={args:{featureState:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},defaultState),{},{loaded:!0,deviceInfo:void 0,error:"ERROR_TOTP_INVALID_CODE",maxAttemptCount:5,currAttemptCount:1})}},Blocked={loaders:[totpMFA_stories_asyncToGenerator(totpMFA_stories_regeneratorRuntime().mark((function _callee6(){return totpMFA_stories_regeneratorRuntime().wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.abrupt("return",{featureState:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},defaultState),{},{loaded:!0,deviceInfo:void 0,isBlocked:!0,nextRetryAt:Date.now()+3e5})});case 1:case"end":return _context6.stop()}}),_callee6)})))]},Loading={args:{featureState:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},defaultState),{},{loaded:!1})}};DeviceSetup.parameters=totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},DeviceSetup.parameters),{},{docs:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},null===(_DeviceSetup$paramete=DeviceSetup.parameters)||void 0===_DeviceSetup$paramete?void 0:_DeviceSetup$paramete.docs),{},{source:totpMFA_stories_objectSpread({originalSource:"{\n  args: {\n    featureState: {\n      ...defaultState,\n      loaded: true,\n      deviceInfo: exampleDeviceInfo\n    }\n  }\n}"},null===(_DeviceSetup$paramete2=DeviceSetup.parameters)||void 0===_DeviceSetup$paramete2||null===(_DeviceSetup$paramete2=_DeviceSetup$paramete2.docs)||void 0===_DeviceSetup$paramete2?void 0:_DeviceSetup$paramete2.source)})}),DeviceSetupAccessDenied.parameters=totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},DeviceSetupAccessDenied.parameters),{},{docs:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},null===(_DeviceSetupAccessDen=DeviceSetupAccessDenied.parameters)||void 0===_DeviceSetupAccessDen?void 0:_DeviceSetupAccessDen.docs),{},{source:totpMFA_stories_objectSpread({originalSource:'{\n  args: {\n    featureState: {\n      ...defaultState,\n      loaded: true,\n      error: "TOTP_MFA_NOT_ALLOWED_TO_SETUP",\n      deviceInfo: undefined\n    }\n  }\n}'},null===(_DeviceSetupAccessDen2=DeviceSetupAccessDenied.parameters)||void 0===_DeviceSetupAccessDen2||null===(_DeviceSetupAccessDen2=_DeviceSetupAccessDen2.docs)||void 0===_DeviceSetupAccessDen2?void 0:_DeviceSetupAccessDen2.source)})}),DeviceSetupWithSecret.parameters=totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},DeviceSetupWithSecret.parameters),{},{docs:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},null===(_DeviceSetupWithSecre=DeviceSetupWithSecret.parameters)||void 0===_DeviceSetupWithSecre?void 0:_DeviceSetupWithSecre.docs),{},{source:totpMFA_stories_objectSpread({originalSource:"{\n  args: {\n    featureState: {\n      ...defaultState,\n      loaded: true,\n      deviceInfo: exampleDeviceInfo,\n      showSecret: true\n    }\n  }\n}"},null===(_DeviceSetupWithSecre2=DeviceSetupWithSecret.parameters)||void 0===_DeviceSetupWithSecre2||null===(_DeviceSetupWithSecre2=_DeviceSetupWithSecre2.docs)||void 0===_DeviceSetupWithSecre2?void 0:_DeviceSetupWithSecre2.source)})}),DeviceSetupEmptySubmit.parameters=totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},DeviceSetupEmptySubmit.parameters),{},{docs:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},null===(_DeviceSetupEmptySubm=DeviceSetupEmptySubmit.parameters)||void 0===_DeviceSetupEmptySubm?void 0:_DeviceSetupEmptySubm.docs),{},{source:totpMFA_stories_objectSpread({originalSource:'{\n  args: {\n    featureState: {\n      ...defaultState,\n      error: "GENERAL_ERROR_OTP_UNDEFINED",\n      loaded: true,\n      deviceInfo: exampleDeviceInfo\n    }\n  }\n}'},null===(_DeviceSetupEmptySubm2=DeviceSetupEmptySubmit.parameters)||void 0===_DeviceSetupEmptySubm2||null===(_DeviceSetupEmptySubm2=_DeviceSetupEmptySubm2.docs)||void 0===_DeviceSetupEmptySubm2?void 0:_DeviceSetupEmptySubm2.source)})}),DeviceSetupInvalidTOTP.parameters=totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},DeviceSetupInvalidTOTP.parameters),{},{docs:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},null===(_DeviceSetupInvalidTO=DeviceSetupInvalidTOTP.parameters)||void 0===_DeviceSetupInvalidTO?void 0:_DeviceSetupInvalidTO.docs),{},{source:totpMFA_stories_objectSpread({originalSource:'{\n  args: {\n    featureState: {\n      ...defaultState,\n      loaded: true,\n      deviceInfo: exampleDeviceInfo,\n      error: "ERROR_TOTP_INVALID_CODE",\n      maxAttemptCount: 5,\n      currAttemptCount: 1\n    }\n  }\n}'},null===(_DeviceSetupInvalidTO2=DeviceSetupInvalidTOTP.parameters)||void 0===_DeviceSetupInvalidTO2||null===(_DeviceSetupInvalidTO2=_DeviceSetupInvalidTO2.docs)||void 0===_DeviceSetupInvalidTO2?void 0:_DeviceSetupInvalidTO2.source)})}),Verification.parameters=totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},Verification.parameters),{},{docs:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},null===(_Verification$paramet=Verification.parameters)||void 0===_Verification$paramet?void 0:_Verification$paramet.docs),{},{source:totpMFA_stories_objectSpread({originalSource:"{\n  args: {\n    featureState: {\n      ...defaultState,\n      loaded: true,\n      deviceInfo: undefined\n    }\n  }\n}"},null===(_Verification$paramet2=Verification.parameters)||void 0===_Verification$paramet2||null===(_Verification$paramet2=_Verification$paramet2.docs)||void 0===_Verification$paramet2?void 0:_Verification$paramet2.source)})}),VerificationEmptySubmit.parameters=totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},VerificationEmptySubmit.parameters),{},{docs:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},null===(_VerificationEmptySub=VerificationEmptySubmit.parameters)||void 0===_VerificationEmptySub?void 0:_VerificationEmptySub.docs),{},{source:totpMFA_stories_objectSpread({originalSource:'{\n  args: {\n    featureState: {\n      ...defaultState,\n      error: "GENERAL_ERROR_OTP_UNDEFINED",\n      loaded: true,\n      deviceInfo: undefined\n    }\n  }\n}'},null===(_VerificationEmptySub2=VerificationEmptySubmit.parameters)||void 0===_VerificationEmptySub2||null===(_VerificationEmptySub2=_VerificationEmptySub2.docs)||void 0===_VerificationEmptySub2?void 0:_VerificationEmptySub2.source)})}),VerificationGeneralError.parameters=totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},VerificationGeneralError.parameters),{},{docs:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},null===(_VerificationGeneralE=VerificationGeneralError.parameters)||void 0===_VerificationGeneralE?void 0:_VerificationGeneralE.docs),{},{source:totpMFA_stories_objectSpread({originalSource:'{\n  args: {\n    featureState: {\n      ...defaultState,\n      error: "SOMETHING_WENT_WRONG_ERROR",\n      loaded: true,\n      deviceInfo: undefined\n    }\n  }\n}'},null===(_VerificationGeneralE2=VerificationGeneralError.parameters)||void 0===_VerificationGeneralE2||null===(_VerificationGeneralE2=_VerificationGeneralE2.docs)||void 0===_VerificationGeneralE2?void 0:_VerificationGeneralE2.source)})}),VerificationInvalidTOTP.parameters=totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},VerificationInvalidTOTP.parameters),{},{docs:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},null===(_VerificationInvalidT=VerificationInvalidTOTP.parameters)||void 0===_VerificationInvalidT?void 0:_VerificationInvalidT.docs),{},{source:totpMFA_stories_objectSpread({originalSource:'{\n  args: {\n    featureState: {\n      ...defaultState,\n      loaded: true,\n      deviceInfo: undefined,\n      error: "ERROR_TOTP_INVALID_CODE",\n      maxAttemptCount: 5,\n      currAttemptCount: 1\n    }\n  }\n}'},null===(_VerificationInvalidT2=VerificationInvalidTOTP.parameters)||void 0===_VerificationInvalidT2||null===(_VerificationInvalidT2=_VerificationInvalidT2.docs)||void 0===_VerificationInvalidT2?void 0:_VerificationInvalidT2.source)})}),Blocked.parameters=totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},Blocked.parameters),{},{docs:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},null===(_Blocked$parameters=Blocked.parameters)||void 0===_Blocked$parameters?void 0:_Blocked$parameters.docs),{},{source:totpMFA_stories_objectSpread({originalSource:"{\n  loaders: [async () => ({\n    featureState: {\n      ...defaultState,\n      loaded: true,\n      deviceInfo: undefined,\n      isBlocked: true,\n      nextRetryAt: Date.now() + 300000\n    }\n  })]\n}"},null===(_Blocked$parameters2=Blocked.parameters)||void 0===_Blocked$parameters2||null===(_Blocked$parameters2=_Blocked$parameters2.docs)||void 0===_Blocked$parameters2?void 0:_Blocked$parameters2.source)})}),Loading.parameters=totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},Loading.parameters),{},{docs:totpMFA_stories_objectSpread(totpMFA_stories_objectSpread({},null===(_Loading$parameters=Loading.parameters)||void 0===_Loading$parameters?void 0:_Loading$parameters.docs),{},{source:totpMFA_stories_objectSpread({originalSource:"{\n  args: {\n    featureState: {\n      ...defaultState,\n      loaded: false\n    }\n  }\n}"},null===(_Loading$parameters2=Loading.parameters)||void 0===_Loading$parameters2||null===(_Loading$parameters2=_Loading$parameters2.docs)||void 0===_Loading$parameters2?void 0:_Loading$parameters2.source)})});var __namedExportsOrder=["DeviceSetup","DeviceSetupAccessDenied","DeviceSetupWithSecret","DeviceSetupEmptySubmit","DeviceSetupInvalidTOTP","Verification","VerificationEmptySubmit","VerificationGeneralError","VerificationInvalidTOTP","Blocked","Loading"]},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!./lib/ts/recipe/totp/components/themes/styles.css":function(module,__webpack_exports__,__webpack_require__){var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__),_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_7_use_1_styles_styles_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!./lib/ts/styles/styles.css"),_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_7_use_1_emailpassword_components_themes_styles_css__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!./lib/ts/recipe/emailpassword/components/themes/styles.css"),___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_7_use_1_styles_styles_css__WEBPACK_IMPORTED_MODULE_2__.Z),___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_7_use_1_emailpassword_components_themes_styles_css__WEBPACK_IMPORTED_MODULE_3__.Z),___CSS_LOADER_EXPORT___.push([module.id,'[data-supertokens~="container"] {\n    padding-top: 24px;\n}\n\n[data-supertokens~="divider"] {\n    margin-top: 32px;\n    margin-bottom: 32px;\n}\n\n[data-supertokens~="row"] {\n    padding-top: 16px;\n    padding-bottom: 8px;\n    width: auto;\n    margin: 0 50px;\n}\n\n[data-supertokens~="totpDeviceQR"] {\n    border-radius: 12px;\n    border: 1px solid rgb(var(--palette-inputBorder));\n    padding: 16px;\n    max-width: 100px;\n    max-height: 100px;\n}\n\n[data-supertokens~="showTOTPSecret"] {\n    display: block;\n    color: rgb(var(--palette-textSecondary));\n    font-size: var(--font-size-0);\n    margin: 4px;\n}\n\n[data-supertokens~="totpSecret"] {\n    display: block;\n    border-radius: 6px;\n    padding: 12px;\n    color: rgb(var(--palette-textLink));\n    font-size: var(--font-size-1);\n    font-weight: 600;\n    letter-spacing: 3.36px;\n    background: rgba(var(--palette-textLink), 0.08);\n}\n\n[data-supertokens~="showTOTPSecretBtn"]:hover {\n    text-decoration: underline;\n}\n\n[data-supertokens~="retryCodeBtn"]:disabled {\n    border: 0;\n    border-radius: 6px;\n    color: rgb(var(--palette-error));\n    background: rgb(var(--palette-errorBackground));\n}\n',"",{version:3,sources:["webpack://./lib/ts/recipe/totp/components/themes/styles.css"],names:[],mappings:"AAGA;IACI,iBAAiB;AACrB;;AAEA;IACI,gBAAgB;IAChB,mBAAmB;AACvB;;AAEA;IACI,iBAAiB;IACjB,mBAAmB;IACnB,WAAW;IACX,cAAc;AAClB;;AAEA;IACI,mBAAmB;IACnB,iDAAiD;IACjD,aAAa;IACb,gBAAgB;IAChB,iBAAiB;AACrB;;AAEA;IACI,cAAc;IACd,wCAAwC;IACxC,6BAA6B;IAC7B,WAAW;AACf;;AAEA;IACI,cAAc;IACd,kBAAkB;IAClB,aAAa;IACb,mCAAmC;IACnC,6BAA6B;IAC7B,gBAAgB;IAChB,sBAAsB;IACtB,+CAA+C;AACnD;;AAEA;IACI,0BAA0B;AAC9B;;AAEA;IACI,SAAS;IACT,kBAAkB;IAClB,gCAAgC;IAChC,+CAA+C;AACnD",sourcesContent:['@import "../../../../styles/styles.css";\n@import "../../../emailpassword/components/themes/styles.css";\n\n[data-supertokens~="container"] {\n    padding-top: 24px;\n}\n\n[data-supertokens~="divider"] {\n    margin-top: 32px;\n    margin-bottom: 32px;\n}\n\n[data-supertokens~="row"] {\n    padding-top: 16px;\n    padding-bottom: 8px;\n    width: auto;\n    margin: 0 50px;\n}\n\n[data-supertokens~="totpDeviceQR"] {\n    border-radius: 12px;\n    border: 1px solid rgb(var(--palette-inputBorder));\n    padding: 16px;\n    max-width: 100px;\n    max-height: 100px;\n}\n\n[data-supertokens~="showTOTPSecret"] {\n    display: block;\n    color: rgb(var(--palette-textSecondary));\n    font-size: var(--font-size-0);\n    margin: 4px;\n}\n\n[data-supertokens~="totpSecret"] {\n    display: block;\n    border-radius: 6px;\n    padding: 12px;\n    color: rgb(var(--palette-textLink));\n    font-size: var(--font-size-1);\n    font-weight: 600;\n    letter-spacing: 3.36px;\n    background: rgba(var(--palette-textLink), 0.08);\n}\n\n[data-supertokens~="showTOTPSecretBtn"]:hover {\n    text-decoration: underline;\n}\n\n[data-supertokens~="retryCodeBtn"]:disabled {\n    border: 0;\n    border-radius: 6px;\n    color: rgb(var(--palette-error));\n    background: rgb(var(--palette-errorBackground));\n}\n'],sourceRoot:""}]),__webpack_exports__.Z=___CSS_LOADER_EXPORT___}}]);